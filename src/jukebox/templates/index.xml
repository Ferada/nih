<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:py="http://genshi.edgewall.org/">
    <head>
        <title>Django Jukebox</title>
        <script type="text/javascript" src="static/prototype-1.4.0.js" />
        <script src="http://ajax.googleapis.com/ajax/libs/jquerymobile/1.4.3/jquery.mobile.min.js"></script>
        <script type="text/javascript" src="static/json.js" />
        <script type="text/javascript" src="static/jsonrpc.js" />
        <script type="text/javascript" src="static/client.js" />
        <link rel="stylesheet" href="static/style.css" type="text/css" />
        <link rel="icon" href="static/favicon.png" type="image/png" />
    </head>
    <body>
        <div class="controls">
            <div class="buttons">
                <button onclick="do_skip()">Skip</button>
                <button onclick="do_pause(true)">Pause</button>
                <button onclick="do_pause(false)">Play</button>
            </div>
            <div class="status">
                <div class="now-playing">
                    <div class="status-row">
                        <span id="statusatom">?</span>
                        <span class="volume-control">
                            <span id="volume-indicator" />
                            <span>Volume<input id="volume-selector" type="range" /></span>
                            <span id="volume">?</span>
                            <span id="volume-who" />
                        </span>
                    </div>
                    <div id="nowplaying">?</div>
                </div>
            </div>
        </div>

        <div class="queue" style="position:relative;">
            <h2>Queue</h2>
            <div style="position:absolute; top: 20px; left: 85px;" class="paneBody">
                <form onsubmit="do_search(); return false;">
                    <input id="searchtext" name="searchtext" type="text" value="" />
                    <button onclick="do_search(); return false;">Search</button>
                    <button onclick="do_random(10); return false;">10 random tracks</button>
                </form>
            </div>
            <div id="statuspanel" class="paneBody playlistQueue" />
        </div>
        <div class="history">
            <h2>History</h2>
            <div class="paneBody">
                <div id="history" />
                <div class="chat">
                    <form onsubmit="send_chat(); return false;">
                        <input id="chatMessage" name="chatMessage" type="text" value="" />
                        <button onclick="send_chat(); return false;">Chat</button>
                    </form>
                </div>
            </div>
        </div>
        <div style="clear: both;"></div>

        <div id="searchResultsContainer">
            <h2>Search Results</h2>
            <div class="paneBody">
                <div id="searchResults" class="searchResults" />
            </div>
        </div>

        <div class="footer">
            <div class="username">
                <form action="" method="GET">
                    Username:
                    <input id="username" name="username" type="text" value="?" />
                    <input type="submit" value="Change" />
                </form>
            </div>
            <a href="/config">Configuration</a> |
            <a href="/admin">Admin</a> | 
            <a href="https://github.com/palfrey/nih/issues">Bug reports</a> |
            <?python has_lastfm = lastfm_name != ''
      ?>
            <py:if test="has_lastfm">
                <a href="http://www.last.fm/user/${lastfm_name}">Last.fm</a> |
            </py:if>
            <span class="version">
                <a href="">This version</a>
                published on
                <span class="timestamp" />
            </span>
        </div>
        <script>Event.observe(window, 'load', initClient);</script>
    </body>
</html>
